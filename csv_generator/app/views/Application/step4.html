#{extends 'main.html' /}
#{set title:'Generátor CSV souborů - krok 4' /}

<h1>Generátor CSV souborů</h1>
<h2>Krok 4. - dokončení</h2>

#{ifErrors}
<div class="error">
    <h3>Opravte, prosím, následující chyby ve formuláři</h2>
	<ul>
		#{errors 'step4.delimiter'}
	    	<li>${error}</li>
	    #{/errors}
		#{errors 'step4.fileName'}
	    	<li>${error}</li>
	    #{/errors}
	</ul>

</div>
#{/ifErrors}

<table class="center" id="recapTable">
#{list items:1..Integer.parseInt(gs.rows), as:'row'}
    <tr>
    #{list items:1..Integer.parseInt(gs.columns), as:'column'}
    	<td>
    		${gs.matrix[row-1][column-1]}&nbsp;
    	</td>
    #{/list}
    </tr>
#{/list}
</table>


#{form @Application.generationParams(), method:'POST' }

<table class="center">
<tr>
<td><label for="step4.delimiter">Oddělovač:</label></td>
<td style="text-align:left" >#{select 'step4.delimiter', items:step4.delimiters, valueProperty:'value', labelProperty:'description', value:step4.delimiter, id:'delimiter' /}</td>
</tr>

<tr>
#{field 'step4.fileName'}
<td><label for="${field.id}">Jméno souboru:</label></td>
<td><input id="${field.id}" name="${field.name}" type="text" value="${field.value}" /></td>
#{/field}
</tr>

</table>

<div class="buttonPanel">
<input class="left" type="submit" name="prevSubmit" value="Předchozí" />
<input class="right" type="submit" name="generateSubmit" value="Generovat" />
</div>

#{/form}


